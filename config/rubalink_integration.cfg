# =============================================================================
# RUBALINK INTEGRATION SETTINGS
# =============================================================================
# RubALink: Advanced Adaptive Link Management for RubyFPV GroundStations
# Combines RubyFPV's reliability with AP-ALINK-FPV's advanced features

# Dynamic RSSI Threshold System
[RUBALINK_DYNAMIC_RSSI]
enable_dynamic_thresholds=1
hardware_rssi_offset=0
safety_margin_db=3

# QP Delta Configuration System
[RUBALINK_QP_DELTA]
enable_qp_delta=1
qp_delta_low=15
qp_delta_medium=5
qp_delta_high=0

# Advanced Signal Processing
[RUBALINK_SIGNAL_PROCESSING]
rssi_filter_chain=0
dbm_filter_chain=0
racing_rssi_filter_chain=1
racing_dbm_filter_chain=1
lpf_cutoff_freq=2.0
lpf_sample_freq=10.0
kalman_rssi_process=0.00001
kalman_dbm_process=0.00001
kalman_rssi_measure=0.1
kalman_dbm_measure=0.5

# Independent Signal Sampling
[RUBALINK_SIGNAL_SAMPLING]
enable_independent_sampling=1
signal_sampling_freq_hz=50
signal_sampling_interval=5

# Enhanced Cooldown & Control
[RUBALINK_COOLDOWN_CONTROL]
strict_cooldown_ms=200
up_cooldown_ms=3000
emergency_cooldown_ms=50
min_change_percent=5
control_algorithm=1
pid_kp=1.0
pid_ki=0.05
pid_kd=0.4

# Racing Mode Enhancements
[RUBALINK_RACING_MODE]
race_mode_enabled=0
racing_fps=120
racing_video_resolution=1280x720
racing_exposure=11
racing_bitrate_max=4

# Command Execution
[RUBALINK_COMMAND_EXECUTION]
command_execution_method=0
enable_error_handling=1
max_command_length=1024

# Seamless Integration & Profile Management
[RUBALINK_SEAMLESS_INTEGRATION]
rubalink_advanced_enabled=1
rubyfpv_adaptive_enabled=1
auto_detection_enabled=1
detect_by_vehicle_name=1
detect_by_video_settings=1
detect_by_bitrate_patterns=1
detect_by_signal_patterns=1
fallback_to_rubyfpv=1
fallback_to_rubalink=1
fallback_timeout_ms=5000
allow_user_override=1
remember_user_choice=1

# Profile-based Adaptive System Selection
[RUBALINK_PROFILE_SETTINGS]
racing_profile_adaptive=1
long_range_profile_adaptive=1
cinematic_profile_adaptive=0
freestyle_profile_adaptive=1
surveillance_profile_adaptive=0
default_profile_adaptive=2

# Auto-search Preferences
[RUBALINK_AUTO_SEARCH]
disable_rubalink_in_auto_search=0
disable_rubyfpv_in_auto_search=0
prefer_rubalink_for_new_vehicles=1
prefer_rubyfpv_for_new_vehicles=0
